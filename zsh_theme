precmd() {
  vcs_info
}

zstyle ':vcs_info:git*' formats '%b'

setopt PROMPT_SUBST

BRANCH_MARK=$'\ue0a0'
ARROW_PROMPT=$'\u2192'
STATUS="%(?:%{$fg[green]%}$ARROW_PROMPT:%{$fg[red]%}$ARROW_PROMPT)"

scm_branch() {
  if [ -n "${vcs_info_msg_0_}" ]; then
    echo -e "${BRANCH_MARK} ${vcs_info_msg_0_}"
  fi
}

PROMPT='%n@%m:%{$fg[cyan]%}%~%{$reset_color%}%# ${STATUS} %{$reset_color%}'
RPROMPT='$(scm_branch) [%*]'
